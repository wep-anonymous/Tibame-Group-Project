<template>
  <div :class="['file-item', mode]">
    <!-- å¡Šç‹€æª¢è¦– -->
    <div v-if="mode === 'grid'" class="grid-view">
      <div class="file-img">
        <img v-if="file.url" :src="file.url" alt="Book Cover" />
        <!-- <img v-if="file.type.startsWith('image')" :src=" file.url " /> -->
      </div>
      <div class="file-info">
        <h3 class="file-name">{{ file.name }}</h3>
        <li class="file-time">{{ file.time }}</li>
      </div>
    </div>

    <!-- æ¢åˆ—å¼æª¢è¦– -->
    <div v-else-if="mode === 'list'" class="list-view">
      <div class="file-img">
        <img v-if="file.url" :src="file.url" alt="Book Cover" />
        <!-- <img v-if="file.type.startsWith('image')" :src="file.url" /> -->
        <div v-else class="file-icon">ğŸ“„</div>
      </div>
      <p class="file-name">{{ file.name }}</p>
      <p class="file-time">{{ file.time }}</p>
    </div>

    <!-- ä½œå“é›†æª¢è¦– -->
    <div v-else="mode === 'draft'" class="draft-view">
      <div class="file-img">
        <img v-if="file.url" :src="file.url" alt="Book Cover" />
        <!-- <img v-if="file.type.startsWith('image')" :src="file.url" /> -->
        <div v-else class="file-icon">ğŸ“„</div>
      </div>
      <p class="file-name">{{ file.name }}</p>
      <p class="file-time">{{ file.time }}</p>
      <button v-if="file.link" class="more-button">
        <div class="btnLink dark">
          <div class="viewIcon"></div>
          <p>More</p>
        </div>
      </button>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    file: {
      type: Object,
      required: true,
    },
    mode: {
      type: String,
      default: "grid", // é è¨­ç‚ºå¡Šç‹€æª¢è¦–
      validator: (value) => ["grid", "list"].includes(value), // åªå…è¨± 'grid' æˆ– 'list'
    },
  },
};

</script>
